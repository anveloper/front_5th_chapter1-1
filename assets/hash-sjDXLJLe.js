import{s,R as e,E as g,P as u,L as m,M as E,a as c,C as d}from"./profile-page-3oCPz6ew.js";const f={["#"+e.MAIN]:E,["#"+e.LOGIN]:m,["#"+e.PROFILE]:u,["#"+e.ERROR]:g},r=a=>{a.includes("#")||(a="#"+a),location.hash=a,i()},i=()=>{const a=document.querySelector("#root");let{hash:t}=location;const n=s.isLogon();if(t||(t="#"+e.MAIN),t==="#"+e.PROFILE&&!n)return r(e.LOGIN);if(t==="#"+e.LOGIN&&n)return r(e.MAIN);const o=f[t]||g;a.innerHTML=o(),O()},O=()=>{const a=document.querySelector("#root");a.addEventListener("submit",t=>{if(t.preventDefault(),t.target.id===c.LOGIN_FORM){const o=new FormData(t.target).get("username")||"";s.login(o),r(e.MAIN)}else if(t.target.id===c.PROFILE_FORM){const n=new FormData(t.target),o=n.get("username")||"",L=n.get("email")||"",l=n.get("bio")||"";s.setUser({username:o,email:L,bio:l})}}),a.addEventListener("click",t=>{if(t.target.tagName==="A"){if(t.preventDefault(),t.target.pathname===e.LOGOUT){s.logout(),r(e.LOGIN);return}r(t.target.pathname)}}),a.addEventListener(d.PAGE_PUSH,t=>{t.detail.url&&r(t.detail.url)})};window.addEventListener("hashchange",i);i();i();
