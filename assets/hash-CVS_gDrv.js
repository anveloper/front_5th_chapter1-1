import{s,R as e,E as d,a as l,L as u,M as m,S as E,b as c,C as f}from"./profile-page-DL7GnNVv.js";const O={["#"+e.MAIN]:m,["#"+e.LOGIN]:u,["#"+e.PROFILE]:l,["#"+e.ERROR]:d},o=n=>{n.includes("#")||(n="#"+n),location.hash=n,i()},i=()=>{const n=document.querySelector("#root");let{hash:t}=location;const a=s.isLogon();if(t||(t="#"+e.MAIN),t==="#"+e.PROFILE&&!a)return o(e.LOGIN);if(t==="#"+e.LOGIN&&a)return o(e.MAIN);const r=O[t]||d;n.innerHTML=r(),I(),n.parentNode.appendChild(E())},I=()=>{const n=document.querySelector("#root");n.addEventListener("submit",t=>{if(t.preventDefault(),t.target.id===c.LOGIN_FORM){const r=new FormData(t.target).get("username")||"";s.login(r),o(e.MAIN)}else if(t.target.id===c.PROFILE_FORM){const a=new FormData(t.target),r=a.get("username")||"",g=a.get("email")||"",L=a.get("bio")||"";s.setUser({username:r,email:g,bio:L})}}),n.addEventListener("click",t=>{if(t.target.tagName==="A"){if(t.preventDefault(),t.target.pathname===e.LOGOUT){s.logout(),o(e.LOGIN);return}o(t.target.pathname)}}),n.addEventListener(f.PAGE_PUSH,t=>{t.detail.url&&o(t.detail.url)})};window.addEventListener("hashchange",i);window.addEventListener("DOMContentLoaded",i);
