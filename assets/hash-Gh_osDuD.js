import{s,R as e,E as g,P as l,L as u,M as m,a as c,C as E}from"./profile-page-3oCPz6ew.js";const f={["#"+e.MAIN]:m,["#"+e.LOGIN]:u,["#"+e.PROFILE]:l,["#"+e.ERROR]:g},r=n=>{n.includes("#")||(n="#"+n),location.hash=n,i()},i=()=>{const n=document.querySelector("#root");let{hash:t}=location;const a=s.isLogon();if(t||(t="#"+e.MAIN),t==="#"+e.PROFILE&&!a)return r(e.LOGIN);if(t==="#"+e.LOGIN&&a)return r(e.MAIN);const o=f[t]||g;n.innerHTML=o(),O()},O=()=>{const n=document.querySelector("#root");n.addEventListener("submit",t=>{if(t.preventDefault(),t.target.id===c.LOGIN_FORM){const o=new FormData(t.target).get("username")||"";s.login(o),r(e.MAIN)}else if(t.target.id===c.PROFILE_FORM){const a=new FormData(t.target),o=a.get("username")||"",L=a.get("email")||"",d=a.get("bio")||"";s.setUser({username:o,email:L,bio:d})}}),n.addEventListener("click",t=>{if(t.target.tagName==="A"){if(t.preventDefault(),t.target.pathname===e.LOGOUT){s.logout(),r(e.LOGIN);return}r(t.target.pathname)}}),n.addEventListener(E.PAGE_PUSH,t=>{t.detail.url&&r(t.detail.url)})};window.addEventListener("hashchange",i);window.addEventListener("DOMContentLoaded",i);
